<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gallery - Design Studio</title>
  <link rel="stylesheet" type="text/css" href="styleseng.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <script src="../script.js" defer></script>
</head>
<body>

<!-- HEADER -->
<header> 

<div class="logo">
  <img src="../images/logods-removebg-preview.png" alt="Design Studio Logo" class="logo-short">
  <span class="logo-full">Design Studio</span>
</div>

  <button class="hamburger-menu" id="hamburgerMenu">
    <span></span>
    <span></span>
    <span></span>
  </button>
  <nav class="main-nav" id="mainNav">
    <ul class="nav-links">
      <li><a href="index.html#hero">Home</a></li>
      <li><a href="index.html#usluge">Services</a></li>
      <li><a href="index.html#portfolio">Projects</a></li>
      <li><a href="index.html#shop">Shop</a></li> 
      <li><a href="index.html#onama">About Us</a></li>
      <li><a href="index.html#projekti">Websites</a></li>
      <li><a href="index.html#blog">Blog</a></li>
      <li><a href="gallery.html">Gallery</a></li>
      <li><a href="index.html#tim">Founder</a></li>
      <li><a href="index.html#faq">FAQ</a></li>
      <li><a href="index.html#kontakt">Contact</a></li>  


      <li class="lang-switch"><a href="../index.html">SRB</a></li>
      <li class="lang-switch"><a href="#">ENG</a></li>
    </ul>
  </nav>
</header>


<!-- GALLERY -->
<section id="gallery" class="gallery">
  <h2>Gallery of All Our Projects</h2>
  <div class="gallery-content">
    <!-- Photos -->
    <div class="gallery-item">
      <img src="../images/IMG_9560.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9499.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9501.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9502.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9503.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9506.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9507 (1).jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9508.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9509.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9512.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9513.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9515.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9516.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9518.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9519.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9520.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9521.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9522.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9523.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9524.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9525.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9526.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9527.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9528.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9529.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9530.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9531.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9532.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9533.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9534.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9535.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9536.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9537.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9538.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9539.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9541.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9542.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9543.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9544.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9545.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9546.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9547.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9548.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9549.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9550.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9552.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9553.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9554.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9555.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9556.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9557.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9558.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9559.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9560.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9562.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9578.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/IMG_9562.jpg" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/shop3.png" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/shop4.png" alt="Gallery Photo" loading="lazy">
    </div>
    <div class="gallery-item">
      <img src="../images/miljkovićtijana_makeup.PNG" alt="Gallery Photo" loading="lazy">
    </div> 
  </div>
</section>



<footer>
  <div class="footer-top">
    <h2>Design With Us</h2>
    <p>Join our creative community and enhance your brand.</p>
  </div>

  <div class="footer-menu">
    <ul>
      <li><a href="index.html#hero">Home</a></li>
      <li><a href="index.html#usluge">Services</a></li>
      <li><a href="index.html#portfolio">Projects</a></li>
      <li><a href="index.html#shop">Shop</a></li>
      <li><a href="index.html#onama">About Us</a></li>
      <li><a href="index.html#projekti">Websites</a></li>
      <li><a href="index.html#blog">Blog</a></li>
      <li><a href="index.html#tim">Founder</a></li>
      <li><a href="index.html#faq">FAQ</a></li>
      <li><a href="index.html#kontakt">Contact</a></li>
    </ul>
  </div>

  <div class="footer-social">
    <a href="https://www.instagram.com/dizajnstudio.rs/" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://www.tiktok.com/@dizajn.studio" target="_blank"><i class="fab fa-tiktok"></i></a>
    <a href="tel:+381628210863"><i class="fas fa-phone"></i></a>
  </div>

  <div class="footer-bottom">
    <p>Created by <a href="index.html#hero" style="color: #000; text-decoration: none;"><span style="color: #000;">Design Studio</span></a> © 2025 | all rights reserved</p>
    
  <!-- Scroll to top button -->
<button id="scrollTop" onclick="scrollToTop()">↑</button>

</footer>

<!-- LIGHTBOX MODAL -->
<div id="lightbox" class="lightbox">
  <span class="close-lightbox">&times;</span>
  <span class="lightbox-arrow lightbox-prev">&#10094;</span>
  <span class="lightbox-arrow lightbox-next">&#10095;</span>
  <img id="lightbox-img" src="" alt="Full size image" style="display: none;">
  <video id="lightbox-video" controls autoplay style="display: none;">
    <source src="" type="video/mp4">
  </video>
</div>

<script>
// LIGHTBOX FUNCTIONALITY
const galleryImages = document.querySelectorAll('.gallery-item img');
const galleryVideos = document.querySelectorAll('.gallery-item video');
const allGalleryItems = Array.from(galleryImages).concat(Array.from(galleryVideos));
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightbox-img');
const lightboxVideo = document.getElementById('lightbox-video');
const closeLightbox = document.querySelector('.close-lightbox');
const prevArrow = document.querySelector('.lightbox-prev');
const nextArrow = document.querySelector('.lightbox-next');
let currentItemIndex = 0;

galleryImages.forEach((img, index) => {
  img.style.cursor = 'pointer';
  img.addEventListener('click', () => {
    currentItemIndex = index;
    showItem(currentItemIndex);
    lightbox.style.display = 'flex';
    document.body.style.overflow = 'hidden';
  });
});

galleryVideos.forEach((video, index) => {
  video.style.cursor = 'pointer';
  const videoIndex = galleryImages.length + index;
  video.addEventListener('click', () => {
    currentItemIndex = videoIndex;
    showItem(currentItemIndex);
    lightbox.style.display = 'flex';
    document.body.style.overflow = 'hidden';
  });
});

function showItem(index) {
  if (index < 0) {
    currentItemIndex = allGalleryItems.length - 1;
  } else if (index >= allGalleryItems.length) {
    currentItemIndex = 0;
  } else {
    currentItemIndex = index;
  }
  
  const currentItem = allGalleryItems[currentItemIndex];
  
  if (currentItem.tagName === 'IMG') {
    lightboxImg.src = currentItem.src;
    lightboxImg.style.display = 'block';
    lightboxVideo.style.display = 'none';
    lightboxVideo.pause();
  } else if (currentItem.tagName === 'VIDEO') {
    const source = currentItem.querySelector('source');
    if (source) {
      lightboxVideo.querySelector('source').src = source.src;
      lightboxVideo.load();
      lightboxVideo.play();
    }
    lightboxVideo.style.display = 'block';
    lightboxImg.style.display = 'none';
  }
}

prevArrow.addEventListener('click', (e) => {
  e.stopPropagation();
  showItem(currentItemIndex - 1);
});

nextArrow.addEventListener('click', (e) => {
  e.stopPropagation();
  showItem(currentItemIndex + 1);
});

closeLightbox.addEventListener('click', () => {
  lightbox.style.display = 'none';
  document.body.style.overflow = 'auto';
  lightboxVideo.pause();
});

lightbox.addEventListener('click', (e) => {
  if (e.target === lightbox) {
    lightbox.style.display = 'none';
    document.body.style.overflow = 'auto';
    lightboxVideo.pause();
  }
});

// GENERATE POSTER IMAGES FROM VIDEO FRAMES
galleryVideos.forEach((video) => {
  function generatePoster() {
    if (video.readyState >= 2 && video.duration) {
      const seekTime = video.duration / 2;
      video.currentTime = seekTime;
    }
  }
  
  function captureFrame() {
    if (video.videoWidth > 0 && video.videoHeight > 0) {
      try {
        const canvas = document.createElement('canvas');
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
        
        const posterUrl = canvas.toDataURL('image/jpeg', 0.8);
        video.poster = posterUrl;
        video.currentTime = 0;
      } catch (e) {
        console.log('Error capturing frame:', e);
      }
    }
  }
  
  video.addEventListener('loadedmetadata', generatePoster);
  video.addEventListener('seeked', captureFrame);
  video.addEventListener('loadeddata', function() {
    if (!video.poster) {
      generatePoster();
    }
  });
  
  // Only load video metadata when it comes into view
  const videoObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !entry.target.poster) {
        entry.target.preload = 'metadata';
        entry.target.load();
        videoObserver.unobserve(entry.target);
      }
    });
  }, { rootMargin: '50px' });
  
  videoObserver.observe(video);
});
</script>

</body>
</html>
